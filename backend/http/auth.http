### Variables
@baseUrl = http://localhost:3001/api
# Pega aquí el token del login:
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImY1OGYyYzVkLTEzMjEtNGVlNC05ZjBmLTQyZDQ5YTY4MTU1MyIsImVtYWlsIjoiYWRtaW5AYWRtaW4uY29tIiwiaWF0IjoxNzY4MTQyNjcyLCJleHAiOjE3Njg3NDc0NzJ9.xBGvpuPKczRndQySKkoZTGH5pFHR2yrI9MGLeoiNknM

### ========================================
### AUTH ENDPOINTS
### ========================================

### Health Check
GET {{baseUrl}}/health

### Test DB Connection
GET {{baseUrl}}/test-db

### ----------------------------------------
### REGISTER - Crear nuevo usuario
### ----------------------------------------
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "admin@admin.com",
  "password": "123456",
  "name": "Admin"
}

### ----------------------------------------
### LOGIN - Iniciar sesión
# @name login
### ----------------------------------------
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@admin.com",
  "password": "123456"
}

### ----------------------------------------
### ME - Obtener usuario autenticado
### ----------------------------------------
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}

### ----------------------------------------
### LOGOUT - Cerrar sesión
### ----------------------------------------
POST {{baseUrl}}/auth/logout
Authorization: Bearer {{token}}

### ========================================
### TEST CASES
### ========================================

### Login con credenciales inválidas
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "noexiste@test.com",
  "password": "wrongpassword"
}

### Register con email duplicado (debe fallar si ya existe)
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "test@test.com",
  "password": "123456",
  "name": "Otro User"
}

### ME sin token (debe fallar)
GET {{baseUrl}}/auth/me
